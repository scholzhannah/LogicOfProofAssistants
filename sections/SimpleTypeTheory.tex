\section{Simple Type Theory}

Simple type theory was first presented by Church in 1940. 

\begin{boxdefi}
    We add to $\lamchu$ the type constants 
    \begin{enumerate}
        \item \alert{$I$} (``\alert{individuals}'')
        \item \alert{$\proptype$}
    \end{enumerate}
    and the term constants 
    \begin{enumerate}
        \item $\alert{\forallterm{\tau}} : (\tau \to \proptype) \to \proptype$
        \item $\alert{{\Rightarrow}} : \proptype \to \proptype \to \proptype$
        \item $\alert{=_\tau} : \tau \to \tau \to \proptype$
        \item $\alert{\varepsilon_\tau} : (\tau \to \proptype) \to \tau$
    \end{enumerate}
    We view $A : \proptype$ as a formula. 
    We write: 
    \begin{enumerate}
        \item $\forall x : \tau. A$ for $\forallterm{\tau}(\lambda x : \tau.A)$
        \item $A \Rightarrow B : \proptype$ for ${\Rightarrow} (A)(B)$ where $A, B : \proptype$
        \item $s =_\tau t : \proptype$ for ${=_\tau}(s)(t)$ where $s, t : \tau$
    \end{enumerate}
    Now we can define: 
    \begin{enumerate}
        \item $\alert{\bot} \coloneq \forall P : \proptype. P$
        \item $\alert{\neg A} \coloneq A \Rightarrow \bot$
        \item $\alert{A \vee B} \coloneq \neg A \Rightarrow B$
        \item $\alert{A \wedge B} \coloneq \neg (\neg A \vee \neg B)$
        \item $\alert{A \Leftrightarrow B} \coloneq (A \Rightarrow B) \wedge (B \Rightarrow A)$
        \item $\alert{\exists x : \tau. A} \coloneq \neg (\forall x : \tau. \neg A)$
    \end{enumerate}
\end{boxdefi}

\begin{rem}
    See sheet 6 exercise 6 for a different (equivalent) way to define $A \wedge B$, $A \vee B$ and $\exists x : \tau. A$.
\end{rem}

\begin{boxdefi}
    In addition to the typing judgements $\Gamma \vdash t : \tau$ we can now define \alert{provability judgements} $\alert{\Delta \mathrel{\vdash_\Gamma} A}$ (or $\Delta \vdash A$ for short) where $\Delta$ is a set of terms $B$ such that $\Gamma \vdash B : \proptype$ and $\Gamma \vdash A : \proptype$.
    This gives a proof system with the following rules where the typing constraints are marked in gray: 
    \begin{enumerate}
        \item {(Ass)
            \AxiomC{}
            \UnaryInfC{$\Delta, A \vdash A$}
            \DisplayProof} 
        \item {($\Rightarrow$ I)
            \AxiomC{$\Delta, A \vdash B$}
            \UnaryInfC{$\Delta \vdash A \Rightarrow B$}
            \DisplayProof}
        \item {($\Rightarrow$ E)
            \AxiomC{$\Delta \vdash A \Rightarrow B$}
            \AxiomC{$\Delta \vdash A$}
            \BinaryInfC{$\Delta \vdash B$}
            \DisplayProof}
        \item {($\forall$ I) 
            \AxiomC{$\Delta \vdash A$}
            \AxiomC{$x \notin \fv{\Delta}$}
            \AxiomC{$\color{gray}\Gamma \vdash x : \tau$}
            \TrinaryInfC{$\Delta \vdash \forall x : \tau. A$}
            \DisplayProof}
        \item {($\forall$ E)
            \AxiomC{$\Delta \vdash \forall x : \tau. A$}
            \AxiomC{$\color{gray}\Gamma \vdash t : \tau$}
            \BinaryInfC{$\Delta \vdash A [t/x]$}
            \DisplayProof}
        \item {($=$ Refl)
            \AxiomC{$\color{gray} \Gamma \vdash t : \tau$}
            \UnaryInfC{$\Delta \vdash t \mathrel{=_\tau} t$}
            \DisplayProof}
        \item {($=$ Symm)
            \AxiomC{$\Delta \vdash t \mathrel{=_\tau} s$}
            \UnaryInfC{$\Delta \vdash s \mathrel{=_\tau} t$}
            \DisplayProof}
        \item {($=$ Trans)
            \AxiomC{$\Delta \vdash t \mathrel{=_\tau} s$}
            \AxiomC{$\Delta \vdash s \mathrel{=_\tau} r$}
            \BinaryInfC{$\Delta \vdash t \mathrel{=_\tau} r$}
            \DisplayProof}
        \item {(${\to}$ Congr)
            \AxiomC{$\Delta \vdash t \mathrel{=_{\sigma \to \tau}} t'$}
            \AxiomC{$\Delta \vdash s \mathrel{=_{\sigma}} s'$}
            \BinaryInfC{$\Delta \vdash t s \mathrel{=_\tau} t' s'$}
            \DisplayProof}
        \item {($\beta$ Equiv)
            \AxiomC{$\color{gray} \Gamma, x : \sigma \vdash t : \tau$}
            \AxiomC{$\color{gray} \Gamma \vdash s : \sigma$}
            \BinaryInfC{$\Delta \vdash (\lambda x : \sigma. t) s \mathrel{=_\tau} t [s/x]$}
            \DisplayProof}
        \item To be continued\dots
    \end{enumerate}
\end{boxdefi}